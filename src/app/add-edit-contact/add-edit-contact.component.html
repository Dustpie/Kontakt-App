<div class="add-edit-contact">
  <form [formGroup]="contactForm" (ngSubmit)="save()" class="contactFormular">
    <div class="mb-3">
      <label for="exampleInputEmail1" class="form-label"
        >ID = {{ contact.id }}</label
      >
    </div>
    <div class="mb-3">
      <input
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="Name*"
      />
      <label
        *ngIf="contactForm.get('name')?.hasError('minlength')"
        class="text-warning"
        >*Name not long enough</label
      >
    </div>
    <div class="mb-3">
      <label class="form-label">Birthdate*</label>
      <input
        type="date"
        style="width: 150px"
        class="form-control"
        name="birthDate"
        formControlName="birthDate"
      />
    </div>

    <ng-container *ngFor="let address of addressArray.controls; let i = index">
      <ng-container [formGroup]="castAsFormGroup(address)">
        <div class="mb-3 row">
          <input
            type="text"
            class="form-control"
            style="width: 70%"
            formControlName="street"
            placeholder="Street*"
          />
          <input
            type="number"
            class="form-control"
            style="width: 20%"
            formControlName="houseNumber"
            placeholder="Nr.*"
          />
          <label
            *ngIf="contactForm.get('street')?.hasError('minlength')"
            class="text-warning"
            >*Text too short</label
          >
        </div>
        <div class="mb-3">
          <input
            type="number"
            class="form-control"
            formControlName="plz"
            placeholder="Postcode*"
          />
        </div>
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            formControlName="town"
            placeholder="Town*"
          />
          <label
            *ngIf="contactForm.get('addresses.town')?.hasError('minlength')"
            class="text-warning"
            >*Text too short</label
          >
        </div>
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            formControlName="country"
            placeholder="Country*"
          />
          <label
            *ngIf="contactForm.get('country')?.hasError('minlength')"
            class="text-warning"
            >*Text too short</label
          >
        </div>
      </ng-container>
    </ng-container>

    <div *ngIf="!contactForm.valid">
      <p style="color: red">Please fill all fields*</p>
    </div>
    <div>
      <Button type="button" (click)="deleteAddress()">Remove Address</Button>
      <Button type="button" (click)="addAddress()">Add Address</Button>
    </div>

    <div class="right">
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-primary" routerLink="/">
        Cancel
      </button>
    </div>
  </form>
</div>
