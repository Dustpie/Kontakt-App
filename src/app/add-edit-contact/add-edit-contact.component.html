<div class="add-edit-contact">
  <form [formGroup]="contactForm" (ngSubmit)="save()" class="contactFormular">
    <div class="mb-3">
      <label for="exampleInputEmail1" class="form-label"
        >ID = {{ contact.id }}</label
      >
    </div>
    <div class="mb-3">
      <input
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="Name*"
      />
      <label
        *ngIf="contactForm.get('name')?.hasError('minlength')"
        class="text-warning"
        >*Der Name ist zu kurz</label
      >
    </div>
    <div class="mb-3">
      <label for="exampleInputPassword1" class="form-label">Birthdate*</label>
      <input
        type="date"
        style="width: 150px"
        class="form-control"
        name="birthDate"
        formControlName="birthDate"
      />
    </div>
    <!-- FormArray Addresse -->
    <div formArrayName="addresses">
      <div
        *ngFor="let addressGroup of addressControls; let i = index"
        [formGroupName]="i"
      >
        <div class="mb-3 row">
          <input
            type="text"
            class="form-control"
            style="width: 70%"
            formControlName="street"
            placeholder="Street*"
          />
          <input
            type="number"
            class="form-control"
            style="width: 20%"
            formControlName="houseNumber"
            placeholder="Nr.*"
          />
          <label
            *ngIf="addressGroup.get('street')?.hasError('minlength')"
            class="text-warning"
            >*Die Eingabe ist zu kurz</label
          >
        </div>

        <div class="mb-3">
          <input
            type="number"
            class="form-control"
            formControlName="zip"
            placeholder="Postcode*"
          />
        </div>
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            formControlName="town"
            placeholder="Town*"
          />
          <label
            *ngIf="addressGroup.get('town')?.hasError('minlength')"
            class="text-warning"
            >*Die Eingabe ist zu kurz</label
          >
        </div>
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            formControlName="country"
            placeholder="Country*"
          />
          <label
            *ngIf="addressGroup.get('country')?.hasError('minlength')"
            class="text-warning"
            >*Die Eingabe ist zu kurz</label
          >
        </div>
      </div>
    </div>

    <!-- Gesamt Validierung -->

    <div *ngIf="!contactForm.valid">
      <p style="color: red">Bitte alle Felder ausf√ºllen*</p>
    </div>

    <div>
      <button type="button" (click)="deleteAddress()">Remove Address</button>
      <button type="button" (click)="addAddress()">Add Address</button>
    </div>

    <div class="right">
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-primary" routerLink="/">
        Cancel
      </button>
    </div>
  </form>
</div>
